<!DOCTYPE html>
<html>
<head>
	<title>Exercise 1</title>
	<script src="js/modernizr-custom.js"></script>
	<style>
		li{
			list-style: none;
		}
		section{
			width: 900px;
			height: 230px;
			margin: 0px auto;
		}
		.column{
			width: 400px;
			float: left;
		}
		#section-1{
			border-bottom: 1px solid #000;
		}
		#section-3{
			border-top: 0px solid #000;
			height: 50px;
		}

	</style>
</head>
<body>
	<header><h1>Front-End Exercise</h1></header>
	<section id="section-1">
		<div class="column">
			<h2>Compatibilidad Modernizr</h2>
			<ul id="column1"></ul>
		</div>
		<div class="column">
			<h2>Compatibilidad HTML5</h2>
			<ul id="column2"></ul>
		</div>
	</section>
	<section id="section-2">
		<h2>Test with audio file: Armin van Buuren & Jean-Michael Jarre - Stardust</h2>
		<audio controls>
			 <source src="files/Stardust.mp3">
		</audio>
	</section>
	<section id="section-3">
		<button onclick="get_location()">Get position</button>
		<p id="position"></p>
	</section>
	<footer></footer>
	<script>
		var mock_input = ['svg', 'audio', 'flash', 'batteryapi', 'contenteditable', 'proximity', 'geolocation'];
		id1 = "column1";
		id2 = "column2";

		check_modernizr(mock_input, id1);
		check_html5(mock_input, id2);

		function check_modernizr(v, id)
		{
			var output = "";
			for(i = 0; i < v.length; i++)
			{

				if(Modernizr[v[i]])
				{
					output += '<li id="element'+i+'">'+v[i]+' <input class="check" type="checkbox" checked="checked" disabled="true"></li>';
				}
				else
				{
					output += '<li id="element'+i+'">'+v[i]+' <input class="check" type="checkbox" disabled="true"></li>';
				}
			}
			document.getElementById(id).innerHTML = output;
		}

		function check_html5(v, id)
		{
			var output = "";
			for(i = 0; i < v.length; i++)
			{
				if(html5_element_supported(v[i]))
				{
					output += '<li id="element'+i+'">'+v[i]+' <input class="check" type="checkbox" checked="checked" disabled="true"></li>';	
				}
				else
				{
					output += '<li id="element'+i+'">'+v[i]+' <input class="check" type="checkbox" disabled="true"></li>';
				}
			}
			document.getElementById(id).innerHTML = output;
		}

		//Returns true if HTML5 element is supported in browser. Otherwise, return false
		function html5_element_supported(tag)
		{	
			if(!navigator[tag])
			{
				var element = document.createElement(tag);
		    	return Object.prototype.toString.call(element) !== '[object HTMLUnknownElement]';
			}
			else
			{
				return true;
			}
		}
	</script>
	<script>
		var elm = document.getElementById("position");

		function get_location()
		{
		    if(html5_element_supported('geolocation'))
		    {	
		        navigator.geolocation.getCurrentPosition(show_position);
		    }
		    else
		    { 
		        elm.innerHTML = "Geolocation is not supported by this browser.";
		    }
		}
		
		function show_position(position)
		{
		    elm.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
		}
	</script>
</body>
</html>